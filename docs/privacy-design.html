<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Design - The Birthmark Standard Foundation</title>
    <link rel="icon" type="image/svg+xml" href="Birthmark_logo_trimmed.svg">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">
                        <img src="./Birthmark_logo_trimmed.svg" alt="Birthmark Standard Foundation Logo">
                    </div>
                    <h1>The Birthmark Standard Foundation</h1>
                </div>
                <nav>
                    <a href="verify.html" style="background: var(--accent-blue); padding: 0.5rem 1rem; border-radius: 4px;">Verify Image</a>
                    <a href="index.html">Home</a>
                    <div class="dropdown">
                        <a href="#" class="dropdown-toggle">How It Works ‚ñæ</a>
                        <div class="dropdown-menu">
                            <a href="technical-architecture.html">Technical Architecture</a>
                            <a href="privacy-design.html">Privacy Design</a>
                            <a href="governance.html">Governance Plan</a>
                            <a href="investigation-framework.html">Investigation Framework</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <a href="#" class="dropdown-toggle">The People ‚ñæ</a>
                        <div class="dropdown-menu">
                            <a href="contact.html">Contact</a>
                            <a href="https://www.linkedin.com/company/birthmarkstandard/" class="external-link">LinkedIn ‚Üó</a>
                            <a href="https://github.com/Birthmark-Standard/Birthmark" class="external-link">GitHub ‚Üó</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero" style="padding: 3rem 0;">
        <div class="container">
            <h2>Privacy Design</h2>
            <p style="max-width: 800px; margin: 0 auto;">How the Birthmark Standard protects photographer privacy while enabling verification</p>
        </div>
    </section>

    <section class="technical-section">
        <div class="container">
            <h2>Camera Submission Packet</h2>
            <div class="content-block">
                <p>When a camera authenticates an image, it creates two separate data structures that serve different purposes and go to different recipients:</p>

                <div style="max-width: 600px; margin: 2rem auto;">
                    <img src="./camera_submission_packet.png" alt="Camera Submission Packet showing Birthmark Record and Manufacturer Certificate" style="width: 100%; border: 2px solid var(--gray-text); border-radius: 8px;">
                    <p style="text-align: center; margin-top: 0.5rem; color: var(--gray-text); font-size: 0.9rem;">The two components of every camera authentication</p>
                </div>

                <div class="diagram-box" style="background: #e8f5e9; margin-top: 2rem;">
                    <h3>Birthmark Record (Public Ledger)</h3>
                    <p style="margin-bottom: 1rem;">This is what gets uploaded to the blockchain for public verification:</p>
                    <ul class="technical-list">
                        <li><strong>Image Hash:</strong> SHA-256 of the processed image (62d9876258...)</li>
                        <li><strong>Modification Level:</strong> 1 (Validated - processed from raw)</li>
                        <li><strong>Parent Image Hash:</strong> Raw image hash (a684b5f981...)</li>
                        <li><strong>Metadata Hashes:</strong>
                            <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                                <li>Timestamp Hash: 05a5a1f8c8...</li>
                                <li>Geotag Hash: 4379a785da... (optional)</li>
                                <li>Lens UID Hash: 81a376543b...</li>
                            </ul>
                        </li>
                        <li><strong>Owner Validation:</strong>
                            <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                                <li>Owner ID Hash: 7b2r4s91f3... (uses unique salt per image to prevent correlation)</li>
                            </ul>
                        </li>
                    </ul>
                    <p style="margin-top: 1rem; font-style: italic;">‚úì Anyone can query this data to verify an image</p>
                    <p style="margin-top: 0.5rem; font-style: italic;">‚úì No camera or manufacturer identifying information included</p>
                </div>

                <div class="diagram-box" style="background: #e3f2fd; margin-top: 2rem;">
                    <h3>Manufacturer Certificate (Private Validation)</h3>
                    <p style="margin-bottom: 1rem;">This is sent to the manufacturer to prove the camera is legitimate:</p>
                    <ul class="technical-list">
                        <li><strong>Authority ID:</strong> CANON_001</li>
                        <li><strong>Encrypted Camera Token:</strong> 8F3B2A19C7... (NUC hash encrypted)</li>
                        <li><strong>Encryption Key Lookup:</strong>
                            <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                                <li>Key Table: 831</li>
                                <li>Key Index: 96</li>
                            </ul>
                        </li>
                        <li><strong>Deviation Test Data:</strong>
                            <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                                <li>Operations: ["white_balance", ...]</li>
                                <li>Adjustment Values: [5, ...]</li>
                                <li>Deviation Value: 0.23</li>
                                <li>Calculation Code Hash: 5feceb66ff...</li>
                            </ul>
                        </li>
                    </ul>
                    <p style="margin-top: 1rem; font-style: italic;">‚úì Only the manufacturer can decrypt this</p>
                    <p style="margin-top: 0.5rem; font-style: italic;">‚úó Manufacturer never sees image hashes</p>
                </div>
            </div>
        </div>
    </section>

    <section class="technical-section" style="background: var(--light-blue);">
        <div class="container">
            <h2>What Different Parties See</h2>

            <div class="content-block">
                <h3>üè≠ Camera Manufacturer</h3>
                <div class="diagram-box">
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Validation request received (timestamp when validation requested)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Specific device identifier (if registration records exist)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Deviation test parameters (to validate editing operations)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Image content or image hashes</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Which image was authenticated</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Capture timestamp (only validation request time)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó GPS location</p>
                    <p style="color: red;">‚úó Photographer identity</p>
                    <p style="margin-top: 1rem; padding: 0.75rem; background: white; border-radius: 4px; font-size: 0.9rem;">
                        <strong>Key protection:</strong> Manufacturer can identify "Camera #ABC123 validated at 14:32" but has no connection to which image hash was validated or any of its content, metadata, or context.
                    </p>
                </div>
            </div>

            <div class="content-block">
                <h3>üñ•Ô∏è Submission Server & Blockchain Validator</h3>
                <p style="font-size: 0.9rem; margin-bottom: 1rem; font-style: italic;">(These are the same entity in the Birthmark architecture)</p>
                <div class="diagram-box">
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Image hashes (to submit to blockchain)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Metadata hashes (timestamp, geotag, lens, owner)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Device manufacturer identity (e.g., "CANON_001")</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Manufacturer validation result (PASS/FAIL)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Encrypted camera identifier (cannot decrypt without manufacturer keys)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Key lookup data (table ID, key index)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Which specific camera (key table shared by thousands of cameras)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó NUC hash (encrypted, cannot decrypt)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Image content</p>
                    <p style="color: red;">‚úó Actual timestamp, location, or owner (only hashes)</p>
                </div>
            </div>

            <div class="content-block">
                <h3>‚õìÔ∏è Public Blockchain Records</h3>
                <div class="diagram-box">
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Image hashes (SHA-256, irreversible)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Modification levels (raw/validated/modified)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Parent image hashes (for edited images)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Metadata hashes (timestamp_hash, geolocation_hash, owner_hash - irreversible)</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Posting timestamp (when server processed, not capture time)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Image content</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Actual metadata (timestamp, location, owner)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Device manufacturer identity</p>
                    <p style="color: red;">‚úó Specific camera identity or photographer identity</p>
                    <p style="margin-top: 1rem; padding: 0.75rem; background: white; border-radius: 4px; font-size: 0.9rem;">
                        <strong>Key protection:</strong> Public blockchain records prove authentication occurred but contain no camera or manufacturer identifying information. Manufacturer identity is only stored in submission server logs (encrypted).
                    </p>
                </div>
            </div>

            <div class="content-block">
                <h3>üë• Public Verifier</h3>
                <div class="diagram-box">
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì "This hash was authenticated on this date"</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Modification level and parent relationships</p>
                    <p style="color: green; margin-bottom: 0.5rem;">‚úì Can verify metadata authenticity (if they have original metadata to compare)</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Who took the photo</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Which manufacturer validated it</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó Where it was taken</p>
                    <p style="color: red; margin-bottom: 0.3rem;">‚úó When it was captured</p>
                    <p style="color: red;">‚úó Which specific camera unit</p>

                    <p style="margin-top: 1rem; font-style: italic; background: white; padding: 1rem; border-radius: 4px;">
                        <strong>How hashed metadata works:</strong> If you possess both the image file AND its original metadata (timestamp, GPS coordinates, owner ID), you can hash those values and compare them to the blockchain record to confirm they match. This proves the metadata hasn't been tampered with. But without the original metadata, the hashes reveal nothing‚Äîthey're cryptographically irreversible.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="technical-section">
        <div class="container">
            <h2>Privacy Mechanisms</h2>

            <div class="content-block">
                <h3>Two-Packet Separation</h3>
                <p>The core privacy mechanism: authentication creates two separate data structures sent to different parties that are never combined in any public record.</p>
                <ul class="technical-list" style="margin-top: 1rem;">
                    <li><strong>Birthmark Record:</strong> Contains image hashes and metadata hashes (public blockchain)</li>
                    <li><strong>Manufacturer Certificate:</strong> Contains encrypted camera token (sent to manufacturer)</li>
                </ul>
                <p style="margin-top: 1rem;"><strong>Result:</strong> To connect a specific camera to a specific image requires compromising multiple independent systems with opposing incentives. The manufacturer can identify the camera but never sees image hashes. The submission server sees image hashes but cannot identify which specific camera without manufacturer keys.</p>
            </div>

            <div class="content-block">
                <h3>Key Table Anonymity</h3>
                <p>Each camera is randomly assigned 3 key tables (out of 2,500 total). Each table is shared by thousands of cameras. When authenticating, the camera randomly selects one of its 3 assigned tables.</p>
                <p style="margin-top: 1rem;"><strong>Result:</strong> Submission servers and public verifiers cannot identify which specific camera authenticated an image‚Äîonly the manufacturer can potentially identify the device through their private validation process, but they never see what was authenticated.</p>
            </div>

            <div class="content-block">
                <h3>Hash-Only Storage</h3>
                <p>Image content is never transmitted to any server or stored anywhere. Only SHA-256 hashes are submitted to the blockchain.</p>
                <p style="margin-top: 1rem;"><strong>Result:</strong> Complete privacy of image content. Hash collisions are computationally infeasible (2^256 possibilities).</p>
            </div>

            <div class="content-block">
                <h3>Metadata Hashing (Optional)</h3>
                <p>Timestamp, GPS coordinates, lens ID, and owner ID are hashed before being included in the Birthmark Record. These features are opt-in and disabled by default.</p>
                <p style="margin-top: 1rem;"><strong>Owner ID Hash Salt:</strong> The owner_hash uses a unique random salt stored in the image's EXIF metadata. This prevents correlation attacks across multiple images‚Äîeach image from the same photographer produces a different owner_hash, making it impossible to link images by owner ID alone.</p>
                <p style="margin-top: 1rem;"><strong>Result:</strong> Photographers can prove metadata authenticity without revealing location or identity unless they choose to share the original metadata alongside the image. Hashes confirm information you already have but never reveal information you don't possess.</p>
            </div>

            <div class="content-block">
                <h3>Separated Concerns</h3>
                <p>Information is distributed across multiple independent parties so each sees only non-identifying fragments:</p>
                <ul class="technical-list">
                    <li>Manufacturer validates cameras but never sees image hashes or content</li>
                    <li>Submission server sees image hashes but cannot identify specific cameras without manufacturer keys</li>
                    <li>Public blockchain stores permanent records but contains no camera or manufacturer identifying information</li>
                    <li>Public verifiers can check authenticity but learn nothing about the photographer, camera, or manufacturer</li>
                </ul>
                <p style="margin-top: 1rem;"><strong>Result:</strong> Combining the fragments requires cooperation from entities with opposing incentives. No single point of failure or control.</p>
            </div>

            <div class="content-block">
                <h3>Source Protection</h3>
                <p>The system protects journalistic sources through architectural design, not just policy. To connect a specific camera to a specific image requires:</p>
                <ol class="technical-list" style="margin-top: 1rem;">
                    <li>Possessing the original image</li>
                    <li>Compromising the submission server's encrypted logs to find which manufacturer validated it</li>
                    <li>Compelling the manufacturer to reveal the camera identity</li>
                </ol>
                <p style="margin-top: 1rem;"><strong>Result:</strong> Fishing expeditions are prevented. Authorities cannot browse the blockchain to identify photographers. Even with complete system access, adversaries can only connect cameras to images they already possess‚Äîthey cannot predict future images or identify what new images depict.</p>
            </div>
        </div>
    </section>

    <section class="technical-section" style="background: var(--light-gray);">
        <div class="container">
            <h2>What This System Does NOT Protect Against</h2>

            <div class="content-block">
                <ul class="technical-list">
                    <li><strong>Staged scenes:</strong> A real camera can photograph a fake scene</li>
                    <li><strong>Screen photos:</strong> A camera can authenticate a photo of a screen showing an AI-generated image</li>
                    <li><strong>Metadata leakage:</strong> If you share your image with original EXIF data, that data is no longer private</li>
                    <li><strong>Stolen cameras:</strong> If a camera is stolen, the thief can use it to authenticate images</li>
                    <li><strong>Coerced disclosure:</strong> Legal compulsion can force manufacturers or node operators to reveal information they possess</li>
                </ul>

                <p style="margin-top: 2rem; padding: 1rem; background: white; border-left: 4px solid var(--accent-blue);">
                    <strong>Design Philosophy:</strong> The Birthmark Standard proves an image came from a legitimate camera sensor, not AI generation. It does not prove the scene is real, only that a physical camera captured it. Truth verification still requires journalistic judgment and context.
                </p>
            </div>
        </div>
    </section>

    <footer id="about">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>The Birthmark Standard Foundation</h3>
                    <p>Creating hardware-backed photo authentication infrastructure on a custom blockchain operated by trusted institutions as a public good.</p>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <a href="index.html">Home</a>
                    <a href="technical-architecture.html">Technical Architecture</a>
                    <a href="privacy-design.html">Privacy Design</a>
                    <a href="governance.html">Governance</a>
                    <a href="contact.html">Contact</a>
                    <a href="https://github.com/Birthmark-Standard/Birthmark">GitHub Repository</a>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <a href="mailto:contact@birthmarkstandard.org">contact@birthmarkstandard.org</a>
                    <a href="https://discord.gg/9Ts7dM9pb5">Join our Discord</a>
                    <a href="https://www.linkedin.com/company/birthmarkstandard/" class="external-link">LinkedIn ‚Üó</a>
                    <p style="margin-top: 1rem;">The Birthmark Standard Foundation<br>501(c)(3) in formation</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 The Birthmark Standard Foundation. Dual license: AGPL-3.0 (blockchain) / Apache-2.0 (tools).</p>
            </div>
        </div>
    </footer>

    <style>
        /* Dropdown menu styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            cursor: pointer;
        }

        .dropdown-menu {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 180px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 4px;
            z-index: 1000;
            top: 100%;
            left: 0;
            margin-top: 0;
            padding-top: 0.25rem;
        }

        .dropdown-menu a {
            display: block;
            padding: 0.5rem 0.75rem;
            text-decoration: none;
            color: #333;
            font-size: 0.9rem;
            transition: background-color 0.2s;
            white-space: nowrap;
        }

        .dropdown-menu a:hover {
            background-color: var(--light-blue);
            color: #333;
        }

        .dropdown:hover .dropdown-menu {
            display: block;
        }

        /* External link styling */
        .dropdown-menu a.external-link {
            color: var(--accent-blue);
        }

        .dropdown-menu a.external-link:hover {
            color: var(--accent-blue);
            background-color: var(--light-blue);
        }

        /* Responsive dropdown - make clickable on mobile */
         (max-width: 768px) {
            .dropdown-toggle {
                pointer-events: auto;
            }

            .dropdown-menu {
                position: static;
                box-shadow: none;
                margin-top: 0.5rem;
                padding-top: 0;
                background-color: rgba(255, 255, 255, 0.95);
            }

            /* On mobile, toggle dropdown with click instead of hover */
            .dropdown.active .dropdown-menu {
                display: block;
            }

            .dropdown:hover .dropdown-menu {
                display: none;
            }
        }

        /* External link styling */
        .dropdown-menu a.external-link {
            color: var(--accent-blue);
        }

        .dropdown-menu a.external-link:hover {
            color: var(--accent-blue);
            background-color: var(--light-blue);
        }
        }
    </style>

    <script>
        // Mobile dropdown toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            if (window.innerWidth <= 768) {
                const dropdowns = document.querySelectorAll('.dropdown');

                dropdowns.forEach(dropdown => {
                    const toggle = dropdown.querySelector('.dropdown-toggle');

                    toggle.addEventListener('click', function(e) {
                        e.preventDefault();

                        // Close other dropdowns
                        dropdowns.forEach(other => {
                            if (other !== dropdown) {
                                other.classList.remove('active');
                            }
                        });

                        // Toggle this dropdown
                        dropdown.classList.toggle('active');
                    });
                });

                // Close dropdowns when clicking outside
                document.addEventListener('click', function(e) {
                    if (!e.target.closest('.dropdown')) {
                        dropdowns.forEach(dropdown => {
                            dropdown.classList.remove('active');
                        });
                    }
                });
            }
        });
    </script>
</body>
</html>
